export default class e{constructor(e){this._addonId=e.self.id}get isFullscreen(){return window.parent===window}get isLightMode(){return scratchAddons.isLightMode}getSelectedTabUrl(){return new Promise((e=>{chrome.tabs.query({active:1,currentWindow:1},(t=>e(0===t.length?null:t[0]?.url||null)))}))}changeSettings(e={}){const t=scratchAddons.globalState.addonSettings[this._addonId]||{},n=Object.keys(e).filter((e=>!{}.hasOwnProperty.call(t,e)))
if(n.length)throw new Error(`Unknown setting keys passed: ${n}`)
chrome.runtime.sendMessage({changeAddonSettings:{addonId:this._addonId,newSettings:{...t,...e}}})}}