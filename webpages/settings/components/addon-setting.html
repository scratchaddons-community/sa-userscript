<template><div class=addon-setting :class="{
    'boolean-setting': setting.type === 'boolean',
    'number-setting': setting.type === 'integer' || setting.type === 'positive_integer',
  }" v-show=show><div class=setting-label-container><div class=setting-label v-html=settingsName(addon)></div><addon-tag v-if=isNewOption tag=new></addon-tag></div><template v-if=noResetDropdown><div class=setting-table v-if="setting.type === 'table'"><div class=setting-table-list><div class=setting-table-row v-for="(i, row) of addonSettings[setting.id]"><div class=setting-table-options><button class=addon-buttons :disabled=!addon._enabled @click=deleteTableRow(i)><img class=icon-type src=../../images/icons/close.svg></button> <button class="addon-buttons handle" :disabled=!addon._enabled><img class=icon-type src=../../images/icons/drag.svg></button></div><div class=setting-table-row-settings><addon-setting v-for="(id, val) of row" :setting=getTableSetting(id) :addon=addon :table-child=true :addon-settings=row></addon-setting></div></div></div><div class="addon-split-button setting-table-dropdown" :class="{open: rowDropdownOpen}"><button class="addon-buttons addon-split-button-button" :disabled=!addon._enabled @click=addTableRow()><img class=icon-type src=../../images/icons/plus.svg></button><div v-click-outside=closeResetDropdowns><button class="addon-buttons addon-split-button-dropdown" :disabled=!addon._enabled @click=toggleRowDropdown><img class=icon-type src=../../images/icons/expand.svg></button><ul><li @click=addTableRow(preset.values) v-for="preset of setting.presets">{{ preset.name }}</li></ul></div></div></div><input class="setting-input check" v-if="setting.type === 'boolean'" :disabled=!addon._enabled type=checkbox v-model=addonSettings[setting.id] @change=updateSettings()><div class=filter-options v-if="setting.type === 'select'"><div class=filter-option @click=updateOption(option.id); :class="{'sel' : addonSettings[setting.id] === option.id, 'disabled': !addon._enabled}" v-for="option of setting.potentialValues">{{ option.name }}</div></div></template><div class=setting-input-container :class="{ 'full-radius': tableChild }"><template v-if="setting.type === 'positive_integer'"><input class="setting-input number" :disabled=!addon._enabled type=number v-model=addonSettings[setting.id] @change="checkValidity() || updateSettings()" min=0></template><template v-if="setting.type === 'integer'"><input class="setting-input number" :disabled=!addon._enabled type=number v-model=addonSettings[setting.id] @change="checkValidity() || updateSettings()" :min=setting.min :max=setting.max></template><template v-if="setting.type === 'string' || setting.type === 'untranslated'"><input class="setting-input string" :disabled=!addon._enabled v-model=addonSettings[setting.id] @change="checkValidity() || updateSettings()" :placeholder=setting.default :maxlength="setting.max || 100" :minlength="setting.min || 0" :required=!!setting.min></template><template v-if="setting.type === 'key'"><input class=setting-input :disabled=!addon._enabled v-model=addonSettings[setting.id] :placeholder=setting.default @input=updateSettings @keydown=keySettingKeyDown @keyup=keySettingKeyUp maxlength=100 spellcheck=false></template><template v-if="setting.type === 'color'"><picker :setting=setting v-click-outside=closePickers :addon=addon :value="addonSettings[setting.id] || setting.default" :no_alpha=!setting.allowTransparency></picker></template><template v-if=showResetDropdown><reset-dropdown :setting=setting v-click-outside=closeResetDropdowns :enabled=addon._enabled :presets=addon.presets></reset-dropdown></template><template v-if="!tableChild && !showResetDropdown"><button class="large-button clear-button" :disabled=!addon._enabled @click="updateOption(setting.default || '')" type=button :title="msg('reset')"><img class=icon-type src=../../images/icons/undo.svg></button></template></div></div></template><style>.addon-setting{align-items:center;display:flex;margin:10px;margin-inline-end:20px;min-height:32px;position:relative}.setting-input{background:var(--input-background);border:1px solid var(--control-border);border-radius:4px 0 0 4px;box-sizing:border-box;color:var(--content-text);height:32px;margin-left:auto;padding:0 12px;transition:.2s ease;transition-property:box-shadow,border}[dir=rtl] .setting-input{border-radius:0 4px 4px 0}.full-radius .setting-input{border-radius:4px}.setting-input:focus-visible{border-color:var(--orange);box-shadow:var(--input-focus-shadow);outline:none}.setting-input.check{-webkit-appearance:none;appearance:none;background-color:var(--switch-background);border:none;border-radius:10px;cursor:pointer;display:block;height:20px;position:relative;transition:all .25s ease;width:40px}.setting-input.check:before{background-color:var(--switch-inner-background);border-radius:5px;content:"";display:block;height:10px;left:5px;position:absolute;top:5px;transition:all .25s ease;width:10px}.setting-input.check:checked{background-color:var(--blue)}.setting-input.check:checked:before{background-color:var(--white-text);left:25px}.setting-input.number{border-radius:16px 0 0 16px;max-width:150px}[dir=rtl] .setting-input.number{border-radius:0 16px 16px 0}.full-radius .setting-input.number{border-radius:16px}.setting-input-container,.setting-label-container{align-items:center;display:flex}.setting-label-container{margin-inline-end:10px;width:200px}.setting-label{color:var(--label-text);font-size:12px;font-weight:600;text-transform:uppercase}.setting-dropdown,.setting-table-dropdown{position:relative}.setting-dropdown.open .clear-button{background:var(--button-hover-background);border-bottom-right-radius:0}[dir=rtl] .setting-dropdown.open .clear-button{border-bottom-left-radius:0;border-bottom-right-radius:4px}.iframe .setting-dropdown.open .clear-button{border-bottom-right-radius:4px}[dir=rtl] .setting-dropdown.open .clear-button{border-bottom-left-radius:4px}.setting-dropdown ul,.setting-table-dropdown ul{background:var(--button-background);border:1px solid var(--control-border);border-radius:4px;border-top-right-radius:0;color:var(--content-text);display:none;margin:0;padding:6px 0;position:absolute;right:0;top:calc(100% - 1px);z-index:3}.iframe .setting-dropdown ul{border-top-right-radius:4px;left:-100px;right:auto}[dir=rtl] .setting-dropdown ul{border-top-left-radius:0;border-top-right-radius:4px;left:0;right:auto}[dir=rtl] .iframe .setting-dropdown ul{border-top-left-radius:4px;left:auto;right:-100px}.setting-dropdown.open ul,.setting-table-dropdown.open ul{display:block}.setting-dropdown li,.setting-table-dropdown li{list-style:none;padding:6px 12px;text-align:start;transition:.2s ease;-webkit-user-select:none;user-select:none;white-space:nowrap}.setting-dropdown li:hover,.setting-table-dropdown li:hover{background:var(--button-hover-background)}.setting-dropdown li>*{vertical-align:middle}.setting-dropdown .color-preview{background:linear-gradient(45deg,#777 25%,#0000 0),linear-gradient(-45deg,#777 25%,#0000 0),linear-gradient(45deg,#0000 75%,#777 0),linear-gradient(-45deg,#0000 75%,#777 0);background-color:#fff;background-position:0 0,0 3px,3px -3px,-3px 0;background-size:6px 6px;border-radius:5px;display:inline-block;height:18px;margin-inline-end:8px;width:18px}.setting-dropdown .color-preview span{border:1px solid var(--control-border);border-radius:4px;box-sizing:border-box;display:inline-block;height:100%;width:100%}.setting-dropdown .text-preview{color:var(--label-text);font-weight:600;margin-left:12px}.setting-table,.setting-table-list{display:flex;flex-direction:column}.setting-table-row{display:flex;margin:10px 0}.setting-table-row-settings{background:var(--navigation-background);border-radius:10px;display:flex;flex-direction:column;justify-content:center;padding-bottom:10px}.setting-table-row-settings .addon-setting{flex-wrap:wrap;margin-inline-end:10px;margin-bottom:0}.setting-table-options{display:flex;flex-direction:column;justify-content:center}.setting-table-dropdown{align-self:flex-start;display:flex}.setting-table-dropdown ul{border-radius:4px;border-top-left-radius:0;left:0;right:auto}[dir=rtl] .setting-table-dropdown ul{border-top-left-radius:4px;border-top-right-radius:0}</style>