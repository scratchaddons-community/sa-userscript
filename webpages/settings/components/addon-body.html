<template><div class=addon-body v-show=shouldShow :id="'addon-' + addon._addonId"><div class=addon-topbar><div class=clickable-area @click="expanded = !expanded"><div class=btn-dropdown><img :class="{'reverted': expanded}" src=../../images/icons/expand.svg alt=v></div><div class=addon-name><img class=icon-type :src=addonIconSrc> <span @click=devShowAddonIds>{{ addon._displayedAddonId || addon.name }}</span></div><addon-tag v-for="tag of addon.tags" :tag=tag></addon-tag></div><div class=addon-description v-show=!expanded dir=auto>{{ addon.description }}</div><div class=addon-check><div class=addon-buttons v-if=addon.settings @click=loadDefaults v-show="expanded && addon._enabled" title="{{ msg('resetToDefault') }}"><img class=icon-type src=../../images/icons/undo.svg></div><div class=switch @click=toggleAddonRequest :state="addon._enabled ? 'on' : 'off'"></div></div></div><div class=addon-settings v-if=everExpanded v-show=expanded><div class=addon-description-full>{{ addon.description }}</div><div class="addon-message addon-update" v-if=showUpdateNotice><addon-tag tag=new></addon-tag>{{ addon.latestUpdate.temporaryNotice }}</div><div v-for="info of addon.info" id=info><div :class="['addon-message', 'addon-' + (info.type || 'info')]"><img :src="'../../images/icons/' + {
              'warning': 'warning.svg',
              'notice': 'notice.svg',
              'info': 'help.svg',
            }[info.type || 'info']">{{ info.text }}</div></div><div class=addon-credits v-if=addon.credits><span>{{ msg("creditTo") }}</span> <span v-for="credit of addon.credits"><span v-if=credit.link> <a href="{{ credit.link }}" target=_blank rel="noreferrer noopener">{{ credit.name }}</a> </span> <span v-else=credit.link>{{ credit.name }}</span> <span v-if=credit.note>({{ credit.note }})</span> </span></div><div class=addon-license v-if="addon.libraries && addon.libraries.length"><a href="./licenses.html?libraries={{ addon.libraries.join(',') }}" target=_blank>{{ msg("viewLicenses") }}</a></div><div class=preview-column v-if="addon.addonPreview && !isIframe" v-bind:class="[!addon._enabled ? 'disabled' : '']"><div class=setting-label>{{ msg("preview") }}</div><component :is="'preview-' + addon.addonPreview.type" :options=addon.addonPreview :settings=addonSettings :hovered-setting-id=hoveredSettingId @areahover=highlightSetting></component></div><div class=settings-column v-bind:class="[!addon._enabled ? 'disabled' : '']"><addon-setting v-for="setting of addon.settings" :class="{'setting-highlighted': highlightedSettingId === setting.id}" :addon=addon :setting=setting :addon-settings=addonSettings @mouseenter="hoveredSettingId = setting.id" @mouseleave="hoveredSettingId = null"></addon-setting></div><div class=presets-column v-if=addon.presets v-bind:class="[!addon._enabled ? 'disabled' : '']"><div class=setting-label>{{ msg("presets") }}</div><div class=addon-setting v-for="preset of addon.presets"><button class=large-button @click=loadPreset(preset) type=preset-button :disabled=!addon._enabled :title=preset.description><span class=preset-preview> <component v-if=addon.presetPreview :is="'preview-' + addon.presetPreview.type" :options=addon.presetPreview :settings=preset.values :setting-data=addon.settings></component> </span><span>{{preset.name}}</span></button></div></div></div></div></template><style>.addon-description{color:var(--gray-text);flex-grow:1;margin-inline:15px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:0}.addon-credits,.addon-description-full{color:var(--description-text);white-space:normal;width:100%}.addon-credits,.addon-license{font-size:.9em;margin-top:4px}.addon-credits a,.addon-license a{color:var(--blue-text)}.addon-credits>span{margin-inline-end:.5rem}.addon-credits>span:not(:first-child):not(:last-child):after{content:","}.addon-name{align-items:center;display:flex;font-weight:400;height:100%;margin-inline-start:10px}.addon-name>span:empty{background-color:var(--gray-text);border-radius:3px;display:inline-block;height:8px;width:150px}.addon-topbar{align-items:center;display:flex;height:52px;padding-inline-end:10px}.clickable-area{padding-inline-start:10px}.addon-body{background:var(--content-background);border:1px solid var(--content-border);border-radius:4px;box-shadow:var(--content-shadow);margin:10px}.addon-blink,.addon-body:target{animation:addonBlink 2s 1}.addon-buttons{align-items:center;background:none;border:none;border-radius:4px;cursor:pointer;display:flex;margin-inline-end:8px;padding-block:8px;padding-inline-end:0;padding-inline-start:8px;transition:.2s ease}.addon-buttons:hover:not([disabled]),.addon-split-button.open .addon-split-button-dropdown,.addon-split-button.open:hover .addon-split-button-dropdown:not(:hover){background:var(--hover-highlight)}.addon-split-button.open .addon-split-button-button,.addon-split-button:hover:not([disabled]) .addon-split-button-button:not(:hover),.addon-split-button:hover:not([disabled]) .addon-split-button-dropdown:not(:hover){background:var(--hover-highlight-reduced)}[disabled]{cursor:auto!important}.addon-split-button-button{border-radius:4px 0 0 4px;margin:0}[dir=rtl] .addon-split-button-button{border-radius:0 4px 4px 0}.addon-split-button-dropdown{border-radius:0 4px 4px 0;margin:0}[dir=rtl] .addon-split-button-dropdown{border-radius:4px 0 0 4px}.addon-split-button.open .addon-split-button-button,.addon-split-button.open .addon-split-button-dropdown{border-bottom-left-radius:0;border-bottom-right-radius:0}.btn-dropdown{align-items:center;border-radius:4px;display:flex;padding:4px;transition:.2s ease}.clickable-area:hover .btn-dropdown{background:var(--hover-highlight)}.btn-dropdown img{filter:var(--content-icon-filter);height:24px;width:24px}.clickable-area{align-items:center;align-self:stretch;cursor:pointer;display:flex}.clickable-area .tooltip{cursor:pointer}.iframe .clickable-area{flex-grow:1}.addon-message{align-items:center;border:2px solid;border-radius:5px;display:flex;font-weight:600;margin:10px 0;padding:8px}.addon-notice{background-color:var(--notice-background);border-color:var(--notice-border);color:var(--notice-text)}.addon-warning{background-color:var(--warning-background);border-color:var(--warning-border);color:var(--warning-text)}.addon-info{background-color:var(--navigation-background);border-color:var(--info-border);color:var(--description-text);font-weight:400}.addon-update{background-color:var(--update-background);border-color:var(--update-border);color:var(--update-text)}.addon-update .badge{margin:-3px;margin-inline-end:10px}.addon-message img{height:15px;margin-inline-end:10px;width:15px}.addon-notice img{filter:var(--notice-icon-filter)}.addon-warning img{filter:var(--warning-icon-filter)}.addon-info img{filter:var(--description-icon-filter)}.addon-settings{padding-top:5px;padding-inline:20px}.addon-setting:after{border:1px solid #0000;border-radius:4px;bottom:-7px;content:"";left:-7px;pointer-events:none;position:absolute;right:-7px;top:-7px;transition:.2s ease}.setting-highlighted:after{border-color:var(--orange)}.presets-column,.settings-column{display:flex;flex-wrap:wrap;margin:10px 0;width:100%}.preview-column{margin:10px 0;padding-left:10px}.presets-column{align-items:center}.presets-column>.setting-label{margin-inline-start:10px}.addon-preset{margin-inline-end:30px}.preset-preview{display:inline-flex}.addon-check{align-items:center;display:flex;margin-inline-start:auto;padding:5px}.switch{background:var(--switch-background);border-radius:10px;cursor:pointer;height:20px;position:relative;width:40px}.switch,.switch:before{display:block;transition:all .25s ease}.switch:before{background:var(--switch-inner-background);border-radius:5px;content:"";height:10px;left:5px;position:absolute;top:5px;width:10px}.switch[state=on]{background:var(--brand-orange)}.switch[state=on]:before{background:var(--white-text);left:25px}[dir=rtl] .switch:before{left:25px}[dir=rtl] .switch[state=on]:before{left:5px}</style>