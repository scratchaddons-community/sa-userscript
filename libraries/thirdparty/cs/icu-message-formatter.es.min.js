function r(r,n){var t=Object.keys(r)
if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r)
n&&(e=e.filter((function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),t.push.apply(t,e)}return t}function n(n){for(var t=1;arguments.length>t;t++){var i=null!=arguments[t]?arguments[t]:{}
t%2?r(Object(i),1).forEach((function(r){e(n,r,i[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(i,r))}))}return n}function t(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function e(r,n,t){return n in r?Object.defineProperty(r,n,{value:t,enumerable:1,configurable:1,writable:1}):r[n]=t,r}function i(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"]
if(null!=t){var e,i,a=[],o=1,u=0
try{for(t=t.call(r);!(o=(e=t.next()).done)&&(a.push(e.value),!n||a.length!==n);o=1);}catch(r){u=1,i=r}finally{try{o||null==t.return||t.return()}finally{if(u)throw i}}return a}}(r,n)||function(r,n){if(r){if("string"==typeof r)return a(r,n)
var t={}.toString.call(r).slice(8,-1)
return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(r,n):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(r,n){(null==n||n>r.length)&&(n=r.length)
for(var t=0,e=new Array(n);n>t;t++)e[t]=r[t]
return e}function o(r){for(var n=function(r){return/\s/.test(r)},t=[],e={},i=0,a=null,o=0,f=0;r.length>f;){if(o&&(n(r[f])||"{"===r[f]))o=0,a=r.slice(i,f),"{"===r[f]&&f--
else if(!o&&!n(r[f]))if(a&&"{"===r[f]){var c=u(r,f)
if(-1===c)throw new Error('Unbalanced curly braces in string: "'.concat(r,'"'))
e[a]=r.slice(f+1,c),f=c,a=null}else a&&(t.push(a),a=null),o=1,i=f
f++}return o&&(a=r.slice(i)),a&&t.push(a),{args:t,cases:e}}function u(r,n){for(var t=0,e=n+1;r.length>e;e++){var i=r.charAt(e)
if("}"===i){if(0===t)return e
t--}else"{"===i&&t++}return-1}function f(r){return c(r.slice(1,-1),",",3)}function c(r,n,t,e){var i=arguments.length>3&&void 0!==e?e:[]
if(!r)return i
if(1===t)return i.push(r),i
var a=r.indexOf(n)
if(-1===a)return i.push(r),i
var o=r.substring(0,a).trim(),u=r.substring(a+n.length+1).trim()
return i.push(o),c(u,n,t-1,i)}function l(r){return r.reduce((function(r,n){return r.concat(Array.isArray(n)?l(n):n)}),[])}function v(r){var n={}
return function(){for(var t=arguments.length,e=new Array(t),i=0;t>i;i++)e[i]=arguments[i]
var a=e.length?e.map((function(r){return null===r?"null":void 0===r?"undefined":"function"==typeof r?r.toString():r instanceof Date?r.toISOString():JSON.stringify(r)})).join("|"):"_(no-args)_"
if({}.hasOwnProperty.call(n,a))return n[a]
var o=r.apply(void 0,e)
return n[a]=o,o}}function s(r,n){for(var t=0,e="",i=0,a={};r.length>t;){if("#"!==r[t]||i)e+=r[t]
else{var o="__hashToken".concat(p++)
e+="{".concat(o,", number}"),a[o]=n}"{"===r[t]?i++:"}"===r[t]&&i--,t++}return{caseBody:e,numberValues:a}}function d(r,t,e,i,a){var u=arguments.length>1&&void 0!==t?t:"",f=arguments.length>2?e:void 0,c=arguments.length>3?i:void 0,l=arguments.length>4?a:void 0,v=o(u),d=v.args,b=v.cases,h=parseInt(r)
d.forEach((function(r){r.startsWith("offset:")&&(h-=parseInt(r.slice("offset:".length)))}))
var p=[]
if("PluralRules"in Intl){void 0!==y&&y.resolvedOptions().locale===f||(y=new Intl.PluralRules(f))
var j=y.select(h)
"other"!==j&&p.push(j)}1===h&&p.push("one"),p.push("=".concat(h),"other")
for(var m=0;p.length>m;m++){var O=p[m]
if(O in b){var w=s(b[O],h),g=w.caseBody,A=w.numberValues
return l(g,n(n({},c),A))}}return r}function b(r,n,t,e,i){var a=arguments.length>1&&void 0!==n?n:"",u=arguments.length>3?e:void 0,f=arguments.length>4?i:void 0,c=o(a),l=c.cases
return r in l?f(l[r],u):"other"in l?f(l.other,u):r}var y,h=function(){function r(n,i){var a=this,o=arguments.length>1&&void 0!==i?i:{}
t(this,r),e(this,"format",v((function(r,n){var t=arguments.length>1&&void 0!==n?n:{}
return l(a.process(r,t)).join("")}))),this.locale=n,this.typeHandlers=o}var n
return n=[{key:"process",value(r,n){var t=arguments.length>1&&void 0!==n?n:{}
if(!r)return[]
var e=r.indexOf("{")
if(-1!==e){var a=u(r,e)
if(-1===a)throw new Error('Unbalanced curly braces in string: "'.concat(r,'"'))
var o=r.substring(e,a+1)
if(o){var c=[],l=r.substring(0,e)
l&&c.push(l)
var v=i(f(o),3),s=v[1],d=t[v[0]]
null==d&&(d="")
var b=s&&this.typeHandlers[s]
c.push(b?b(d,v[2],this.locale,t,this.process.bind(this)):d)
var y=r.substring(a+1)
return y&&c.push(this.process(y,t)),c}}return[r]}}],n&&function(r,n){for(var t=0;n.length>t;t++){var e=n[t]
e.enumerable=e.enumerable||0,e.configurable=1,"value"in e&&(e.writable=1),Object.defineProperty(r,e.key,e)}}(r.prototype,n),r}(),p=0
export{h as MessageFormatter,u as findClosingBracket,o as parseCases,d as pluralTypeHandler,b as selectTypeHandler,f as splitFormattedArgument}
